<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CRABOuest: Référence de la classe gestion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRABOuest
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&#160;de&#160;nommage</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Liste&#160;des&#160;classes</span></a></li>
      <li><a href="classes.html"><span>Index&#160;des&#160;classes</span></a></li>
      <li><a href="functions.html"><span>Membres&#160;de&#160;classe</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgestion.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Espaces de nommage</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="classgestion-members.html">Liste de tous les membres</a>  </div>
  <div class="headertitle">
<div class="title">Référence de la classe gestion</div>  </div>
</div><!--header-->
<div class="contents">

<p>Avec la classe gestion on retrouve les slots privés ou public afin de gérer les différents rayons et produits on peut donc supprimer, ajouter ou modifier puis tout simplement les voir on peut également gérer la couleur.  
 <a href="classgestion.html#details">Plus de détails...</a></p>

<p><code>#include &lt;<a class="el" href="gestion_8h_source.html">gestion.h</a>&gt;</code></p>
<div class="dynheader">
Graphe de collaboration de gestion:</div>
<div class="dyncontent">
<div class="center"><img src="classgestion__coll__graph.png" border="0" usemap="#gestion_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:a56a870ef0bef1cb98c679a1fa4bb25ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgestion.html#a56a870ef0bef1cb98c679a1fa4bb25ff">gestion</a> (QWidget *parent=0)</td></tr>
<tr class="memdesc:a56a870ef0bef1cb98c679a1fa4bb25ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Si lorsque l'identifiant ou le mdp de la base de données est incorrect alors un msg d'erreur apparait sinon, la connexion a la base se fait bien, et ouvre alors la page connexion.  <a href="#a56a870ef0bef1cb98c679a1fa4bb25ff"></a><br/></td></tr>
<tr class="memitem:a56c8770c7068cf05c9363b632f960838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgestion.html#a56c8770c7068cf05c9363b632f960838">~gestion</a> ()</td></tr>
</table>
<a name="details" id="details"></a><h2>Description détaillée</h2>
<div class="textblock"><p>Avec la classe gestion on retrouve les slots privés ou public afin de gérer les différents rayons et produits on peut donc supprimer, ajouter ou modifier puis tout simplement les voir on peut également gérer la couleur. </p>

<p>Définition à la ligne <a class="el" href="gestion_8h_source.html#l00032">32</a> du fichier <a class="el" href="gestion_8h_source.html">gestion.h</a>.</p>
</div><h2>Documentation des constructeurs et destructeur</h2>
<a class="anchor" id="a56a870ef0bef1cb98c679a1fa4bb25ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gestion::gestion </td>
          <td>(</td>
          <td class="paramtype">QWidget *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Si lorsque l'identifiant ou le mdp de la base de données est incorrect alors un msg d'erreur apparait sinon, la connexion a la base se fait bien, et ouvre alors la page connexion. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="gestion_8cpp_source.html#l00026">26</a> du fichier <a class="el" href="gestion_8cpp_source.html">gestion.cpp</a>.</p>
<div class="fragment"><div class="line">                                :</div>
<div class="line">    QDialog(parent),</div>
<div class="line">    ui(<span class="keyword">new</span> Ui::gestion)</div>
<div class="line">{</div>
<div class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</div>
<div class="line">    couleur();</div>
<div class="line">    QSqlDatabase db=QSqlDatabase::addDatabase(<span class="stringliteral">&quot;QMYSQL&quot;</span>);</div>
<div class="line">    maBase=<span class="keyword">new</span> QSqlDatabase(db);</div>
<div class="line">    maBase-&gt;setHostName(<span class="stringliteral">&quot;localhost&quot;</span>);</div>
<div class="line">    maBase-&gt;setDatabaseName(<span class="stringliteral">&quot;testQT&quot;</span>);</div>
<div class="line">    maBase-&gt;setUserName(<span class="stringliteral">&quot;afontraille&quot;</span>);</div>
<div class="line">    maBase-&gt;setPassword(<span class="stringliteral">&quot;dTj124fs&quot;</span>);</div>
<div class="line">    <span class="keywordtype">bool</span> ok = maBase-&gt;open();</div>
<div class="line">    <span class="keywordflow">if</span>(!ok)</div>
<div class="line">    {</div>
<div class="line">        QMessageBox::warning(<span class="keyword">this</span>,<span class="stringliteral">&quot;New World BackOffice&quot;</span>,<span class="stringliteral">&quot;La connexion à la base de données a échoué \n Veuillez vérifier que le service mysql est lancé sur localhost&quot;</span>,QMessageBox::Ok|QMessageBox::Cancel,QMessageBox::Ok);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        modelRayon=<span class="keyword">new</span> QSqlTableModel(<span class="keyword">this</span>,*maBase);</div>
<div class="line">        modelRayon-&gt;setTable(<span class="stringliteral">&quot;surType&quot;</span>);</div>
<div class="line">        ui-&gt;tableViewRayons-&gt;setModel(modelRayon);</div>
<div class="line">        modelRayon-&gt;select();</div>
<div class="line">        modelRayon-&gt;setHeaderData(1,Qt::Horizontal, trUtf8(<span class="stringliteral">&quot;Nom&quot;</span>));</div>
<div class="line">        modelRayon-&gt;setEditStrategy(QSqlTableModel::OnFieldChange);</div>
<div class="line"></div>
<div class="line">        modelProduit=<span class="keyword">new</span> QSqlRelationalTableModel(<span class="keyword">this</span>,*maBase);</div>
<div class="line">        modelProduit-&gt;setTable(<span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line">        ui-&gt;tableViewProduits-&gt;setModel(modelProduit);</div>
<div class="line">        modelProduit-&gt;setRelation(2, QSqlRelation(<span class="stringliteral">&quot;surType&quot;</span>, <span class="stringliteral">&quot;no&quot;</span>, <span class="stringliteral">&quot;libelleSurType&quot;</span>));</div>
<div class="line">        modelProduit-&gt;select();</div>
<div class="line">        modelProduit-&gt;setHeaderData(1,Qt::Horizontal, trUtf8(<span class="stringliteral">&quot;Nom&quot;</span>));</div>
<div class="line">        modelProduit-&gt;setHeaderData(2,Qt::Horizontal, trUtf8(<span class="stringliteral">&quot;Nom du rayon&quot;</span>));</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Cacher l&#39;identifiant pour les rayons et les produits</span></div>
<div class="line">        ui-&gt;tableViewRayons-&gt;hideColumn(0);</div>
<div class="line">        ui-&gt;tableViewProduits-&gt;hideColumn(0);</div>
<div class="line">        modelProduit-&gt;setEditStrategy(QSqlRelationalTableModel::OnRowChange);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//REMPLIR COMBO BOX AJOUT</span></div>
<div class="line">        QString requete=<span class="stringliteral">&quot;select * from surType;&quot;</span>;</div>
<div class="line">        <span class="comment">//exécution de la requête</span></div>
<div class="line">        QSqlQuery reqEx(requete);</div>
<div class="line">        <span class="comment">//compteur de lignes</span></div>
<div class="line">        <span class="keywordtype">int</span> i=0;</div>
<div class="line">        <span class="comment">//boucle pour remplir ma comboBox</span></div>
<div class="line">        <span class="keywordflow">while</span>(reqEx.next())</div>
<div class="line">        {</div>
<div class="line">            ui-&gt;comboBox-&gt;addItem(reqEx.value(1).toString(), i);</div>
<div class="line">            i++;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">//REMPLIR COMBO BOX MODIF</span></div>
<div class="line">        QString req=<span class="stringliteral">&quot;select * from surType;&quot;</span>;</div>
<div class="line">        <span class="comment">//exécution de la requête</span></div>
<div class="line">        QSqlQuery reqExModif(req);</div>
<div class="line">        <span class="comment">//compteur de lignes</span></div>
<div class="line">        <span class="keywordtype">int</span> j=0;</div>
<div class="line">        <span class="comment">//boucle pour remplir ma comboBox</span></div>
<div class="line">        <span class="keywordflow">while</span>(reqExModif.next())</div>
<div class="line">        {</div>
<div class="line">            ui-&gt;comboBoxModif-&gt;addItem(reqExModif.value(1).toString(), j);</div>
<div class="line">            i++;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">//Désactiver les boutons</span></div>
<div class="line">        <span class="comment">/*if()</span></div>
<div class="line"><span class="comment">        {</span></div>
<div class="line"><span class="comment">            ui-&gt;pushButtonAddProduit-&gt;setEnabled(false);</span></div>
<div class="line"><span class="comment">        }*/</span></div>
<div class="line">    }</div>
}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56c8770c7068cf05c9363b632f960838"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gestion::~gestion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="gestion_8cpp_source.html#l00097">97</a> du fichier <a class="el" href="gestion_8cpp_source.html">gestion.cpp</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">delete</span> ui;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>La documentation de cette classe a été générée à partir des fichiers suivants :<ul>
<li>/home/afontraille/QT CREATOR/backOfficeNW/<a class="el" href="gestion_8h_source.html">gestion.h</a></li>
<li>/home/afontraille/QT CREATOR/backOfficeNW/<a class="el" href="gestion_8cpp_source.html">gestion.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classgestion.html">gestion</a></li>
    <li class="footer">Généré le Jeudi Octobre 8 2015 11:35:25 pour CRABOuest par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
